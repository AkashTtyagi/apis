# Document Management UI - Complete Implementation Guide

## Overview
This document provides complete specifications for building the Document Management UI with integration to existing backend APIs. The backend APIs are already implemented for managing employee documents with folders, document types, and dynamic form fields.

---

## Backend API Configuration

**Base URL:** `http://localhost:3000/api`
**Authentication:** Bearer Token in `Authorization` header
**Organization Context:** `company_id` in request body (automatically extracted from JWT token)
**Request Format:** All POST requests with JSON body

---

## Module 1: Folder Management

### 1.1 Folder List/Dashboard

**Route:** `/admin/document-folders`

**API Endpoint:**
```
POST /api/document-folders/list
Body:
{
  // company_id automatically added from JWT token
}

Response:
{
  "success": true,
  "data": [
    {
      "id": 1,
      "company_id": 1,
      "folder_code": "PERSONAL",
      "folder_name": "Personal Documents",
      "description": "Personal identification and documents",
      "icon": "user",
      "display_order": 1,
      "is_active": true,
      "created_at": "2025-01-01T00:00:00.000Z",
      "permissions": [
        {
          "id": 1,
          "folder_id": 1,
          "role_name": "employee",
          "can_view": true,
          "can_upload": true,
          "can_edit": true,
          "can_delete": true,
          "can_approve": false
        }
      ],
      "document_types_count": 8
    }
  ]
}
```

**UI Layout:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Document Folders                [+ Create Folder]      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Folder Cards:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‘¤ Personal      â”‚  â”‚ ğŸ“ Educational   â”‚  â”‚ ğŸ’¼ Professional  â”‚
â”‚ Documents        â”‚  â”‚ Documents        â”‚  â”‚ Documents        â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ Code: PERSONAL   â”‚  â”‚ Code: EDUCATION  â”‚  â”‚ Code: PROFESSION â”‚
â”‚ Doc Types: 8     â”‚  â”‚ Doc Types: 6     â”‚  â”‚ Doc Types: 4     â”‚
â”‚                  â”‚  â”‚                  â”‚  â”‚                  â”‚
â”‚ [Active âœ“]       â”‚  â”‚ [Active âœ“]       â”‚  â”‚ [Active âœ“]       â”‚
â”‚                  â”‚  â”‚                  â”‚  â”‚                  â”‚
â”‚ [View] [Edit]    â”‚  â”‚ [View] [Edit]    â”‚  â”‚ [View] [Edit]    â”‚
â”‚   [Permissions]  â”‚  â”‚   [Permissions]  â”‚  â”‚   [Permissions]  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ’° Financial     â”‚  â”‚ ğŸ¥ Medical       â”‚  â”‚ ğŸ“‹ Employment    â”‚
â”‚ Documents        â”‚  â”‚ Documents        â”‚  â”‚ Documents        â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ Code: FINANCIAL  â”‚  â”‚ Code: MEDICAL    â”‚  â”‚ Code: EMPLOYMENT â”‚
â”‚ Doc Types: 5     â”‚  â”‚ Doc Types: 3     â”‚  â”‚ Doc Types: 4     â”‚
â”‚                  â”‚  â”‚                  â”‚  â”‚                  â”‚
â”‚ [Active âœ“]       â”‚  â”‚ [Active âœ“]       â”‚  â”‚ [Active âœ“]       â”‚
â”‚                  â”‚  â”‚                  â”‚  â”‚                  â”‚
â”‚ [View] [Edit]    â”‚  â”‚ [View] [Edit]    â”‚  â”‚ [View] [Edit]    â”‚
â”‚   [Permissions]  â”‚  â”‚   [Permissions]  â”‚  â”‚   [Permissions]  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Interactions:**
- Click "Create Folder" â†’ Open Create Folder Modal
- Click "View" â†’ Navigate to Document Types List (2.1)
- Click "Edit" â†’ Open Edit Folder Modal (1.3)
- Click "Permissions" â†’ Open Permissions Modal (1.4)

---

### 1.2 Create Folder Modal

**API Endpoint:**
```
POST /api/document-folders/create
Body:
{
  "folder_code": "PERSONAL",
  "folder_name": "Personal Documents",
  "description": "Personal identification and documents",
  "icon": "user",
  "display_order": 1,
  "is_active": true
}

Response:
{
  "success": true,
  "message": "Folder created successfully",
  "data": {
    "id": 1,
    "folder_code": "PERSONAL",
    "folder_name": "Personal Documents",
    ...
  }
}
```

**Modal Layout:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Create Document Folder                  [âœ•]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                  â”‚
â”‚  Folder Code *                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ PERSONAL                                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  Uppercase alphanumeric, no spaces             â”‚
â”‚                                                  â”‚
â”‚  Folder Name *                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Personal Documents                       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                  â”‚
â”‚  Description                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Personal identification and documents    â”‚  â”‚
â”‚  â”‚                                           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                  â”‚
â”‚  Icon (optional)                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ [Select Icon â–¼]                          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  ğŸ‘¤ user  ğŸ“ education  ğŸ’¼ briefcase  ğŸ’° money â”‚
â”‚  ğŸ¥ medical  ğŸ“‹ clipboard                      â”‚
â”‚                                                  â”‚
â”‚  Display Order *                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                   â”‚
â”‚  â”‚    1     â”‚                                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                   â”‚
â”‚                                                  â”‚
â”‚  Status                                          â”‚
â”‚  â˜‘ Active                                       â”‚
â”‚                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                [Cancel]  [Create Folder]        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Validations:**
- Folder Code: Required, uppercase alphanumeric, max 50 chars, unique
- Folder Name: Required, min 3 chars, max 200 chars
- Display Order: Required, number >= 0

---

### 1.3 Update Folder

**API Endpoint:**
```
POST /api/document-folders/update
Body:
{
  "id": 1,
  "folder_name": "Updated Personal Documents",
  "description": "Updated description",
  "is_active": true,
  "display_order": 1
}

Response:
{
  "success": true,
  "message": "Folder updated successfully",
  "data": { ... }
}
```

**UI:** Same modal as Create, but pre-filled with existing data. Folder Code is read-only.

---

### 1.4 Set Folder Permissions

**API Endpoint:**
```
POST /api/document-folders/set-permissions
Body:
{
  "folder_id": 1,
  "permissions": [
    {
      "role_name": "employee",
      "can_view": true,
      "can_upload": true,
      "can_edit": true,
      "can_delete": true,
      "can_approve": false
    },
    {
      "role_name": "reporting_manager",
      "can_view": true,
      "can_upload": false,
      "can_edit": false,
      "can_delete": false,
      "can_approve": true
    },
    {
      "role_name": "hr",
      "can_view": true,
      "can_upload": true,
      "can_edit": true,
      "can_delete": false,
      "can_approve": true
    },
    {
      "role_name": "admin",
      "can_view": true,
      "can_upload": true,
      "can_edit": true,
      "can_delete": true,
      "can_approve": true
    }
  ]
}

Response:
{
  "success": true,
  "message": "Permissions updated successfully"
}
```

**Modal Layout:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Folder Permissions: Personal Documents         [âœ•]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  Configure role-based permissions for this folder      â”‚
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Role              View Upload Edit Delete Approveâ”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ Employee           â˜‘    â˜‘     â˜‘     â˜‘      â˜   â”‚ â”‚
â”‚  â”‚ Reporting Manager  â˜‘    â˜     â˜     â˜      â˜‘   â”‚ â”‚
â”‚  â”‚ RM of RM           â˜‘    â˜     â˜     â˜      â˜‘   â”‚ â”‚
â”‚  â”‚ Department Head    â˜‘    â˜     â˜     â˜      â˜‘   â”‚ â”‚
â”‚  â”‚ HR                 â˜‘    â˜‘     â˜‘     â˜      â˜‘   â”‚ â”‚
â”‚  â”‚ Admin              â˜‘    â˜‘     â˜‘     â˜‘      â˜‘   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                         â”‚
â”‚  Permission Descriptions:                               â”‚
â”‚  â€¢ View: Can view documents in this folder             â”‚
â”‚  â€¢ Upload: Can upload new documents                     â”‚
â”‚  â€¢ Edit: Can edit document details                      â”‚
â”‚  â€¢ Delete: Can delete documents                         â”‚
â”‚  â€¢ Approve: Can approve/reject documents                â”‚
â”‚                                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              [Cancel]  [Save Permissions]              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Module 2: Document Type Management

### 2.1 Document Type List

**Route:** `/admin/document-types/:folderId`

**API Endpoint:**
```
POST /api/document-types/list-by-folder
Body:
{
  "folder_id": 1
}

Response:
{
  "success": true,
  "data": [
    {
      "id": 1,
      "company_id": 1,
      "folder_id": 1,
      "document_type_code": "AADHAAR",
      "document_type_name": "Aadhaar Card",
      "description": "Government issued identity proof",
      "is_mandatory": true,
      "allow_multiple": false,
      "allow_na": false,
      "has_expiry": false,
      "reminder_days": null,
      "display_order": 1,
      "is_active": true,
      "fields": [
        {
          "id": 1,
          "document_type_id": 1,
          "field_name": "aadhaar_number",
          "field_label": "Aadhaar Number",
          "field_type": "text",
          "is_required": true,
          "display_order": 1
        }
      ]
    }
  ]
}
```

**UI Layout:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† Back to Folders    Personal Documents               â”‚
â”‚                                      [+ Add Doc Type]  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Search & Filters:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ” [Search document types...]                          â”‚
â”‚ Status: [All â–¼] [Active âœ“] [Inactive]                â”‚
â”‚ [Clear Filters]                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Document Types Table:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Type Name       Code      Mandatory  Fields  Active  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Aadhaar Card   AADHAAR      âœ“          4      âœ“     â”‚ [âš™]
â”‚ PAN Card       PAN          âœ“          3      âœ“     â”‚ [âš™]
â”‚ Passport       PASSPORT     âœ—          6      âœ“     â”‚ [âš™]
â”‚ Voter ID       VOTER_ID     âœ—          3      âœ“     â”‚ [âš™]
â”‚ Driving License DRIVING_LIC âœ—          5      âœ“     â”‚ [âš™]
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[âš™] Actions Dropdown:
  â€¢ View Details
  â€¢ Edit Type
  â€¢ Manage Fields
  â€¢ Clone Type
  â€¢ Activate/Deactivate
```

**Interactions:**
- Click "Add Doc Type" â†’ Open Create Document Type Modal (2.2)
- Click "âš™" â†’ Show actions dropdown
- Click "Manage Fields" â†’ Open Field Configuration Modal (2.4)

---

### 2.2 Create Document Type

**API Endpoint:**
```
POST /api/document-types/create
Body:
{
  "folder_id": 1,
  "document_type_code": "AADHAAR",
  "document_type_name": "Aadhaar Card",
  "description": "Government issued identity proof",
  "is_mandatory": true,
  "allow_multiple": false,
  "allow_na": false,
  "has_expiry": false,
  "reminder_days": null,
  "display_order": 1,
  "is_active": true
}

Response:
{
  "success": true,
  "message": "Document type created successfully",
  "data": {
    "id": 1,
    "document_type_code": "AADHAAR",
    ...
  }
}
```

**Modal Layout:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Create Document Type                    [âœ•]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                  â”‚
â”‚  Basic Information                               â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  â”‚
â”‚                                                  â”‚
â”‚  Document Type Code *                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ AADHAAR                                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  Uppercase, alphanumeric, underscores only     â”‚
â”‚                                                  â”‚
â”‚  Document Type Name *                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Aadhaar Card                             â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                  â”‚
â”‚  Description                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Government issued identity proof         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                  â”‚
â”‚  Document Configuration                          â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  â”‚
â”‚                                                  â”‚
â”‚  â˜‘ Mandatory Document                           â”‚
â”‚     (Employees must upload this)                â”‚
â”‚                                                  â”‚
â”‚  â˜ Allow Multiple Uploads                       â”‚
â”‚     (Can upload more than one)                  â”‚
â”‚                                                  â”‚
â”‚  â˜ Allow N/A                                    â”‚
â”‚     (Can mark as Not Applicable)                â”‚
â”‚                                                  â”‚
â”‚  â˜ Has Expiry Date                              â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚     â”‚ Send reminder before (days): [30]â”‚       â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                  â”‚
â”‚  Display Order *                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                   â”‚
â”‚  â”‚    1     â”‚                                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                   â”‚
â”‚                                                  â”‚
â”‚  â˜‘ Active                                       â”‚
â”‚                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚           [Cancel]  [Create & Add Fields]       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**After creating:** Automatically open Field Configuration Modal to add fields.

---

### 2.3 Update Document Type

**API Endpoint:**
```
POST /api/document-types/update
Body:
{
  "id": 1,
  "document_type_name": "Updated Aadhaar Card",
  "description": "Updated description",
  "is_mandatory": true,
  "is_active": true
}

Response:
{
  "success": true,
  "message": "Document type updated successfully",
  "data": { ... }
}
```

**UI:** Same modal as Create, pre-filled. Document Type Code is read-only.

---

### 2.4 Field Configuration Modal

**Get Document Type with Fields:**
```
POST /api/document-types/get-by-id
Body:
{
  "id": 1
}

Response:
{
  "success": true,
  "data": {
    "id": 1,
    "document_type_name": "Aadhaar Card",
    "fields": [
      {
        "id": 1,
        "field_name": "aadhaar_number",
        "field_label": "Aadhaar Number",
        "field_type": "text",
        "is_required": true,
        "display_order": 1,
        "placeholder": "XXXX-XXXX-XXXX",
        "help_text": "12-digit Aadhaar number"
      }
    ]
  }
}
```

**Add Field API:**
```
POST /api/document-types/add-field
Body:
{
  "document_type_id": 1,
  "field_name": "aadhaar_number",
  "field_label": "Aadhaar Number",
  "field_type": "text",
  "field_options": null,
  "is_required": true,
  "validation_rules": "{\"pattern\": \"^[0-9]{12}$\"}",
  "display_order": 1,
  "placeholder": "XXXX-XXXX-XXXX",
  "help_text": "12-digit Aadhaar number"
}

Response:
{
  "success": true,
  "message": "Field added successfully",
  "data": { ... }
}
```

**Modal Layout:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Configure Fields: Aadhaar Card               [âœ•]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                       â”‚
â”‚  Existing Fields:                                     â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  â”‚
â”‚                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Field Name          Type     Required  Actions â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ Aadhaar Number      text        âœ“      [Edit]  â”‚ â”‚
â”‚  â”‚ Date of Issue       date        âœ“      [Edit]  â”‚ â”‚
â”‚  â”‚ Name on Document    text        âœ—      [Edit]  â”‚ â”‚
â”‚  â”‚ Address             textarea    âœ—      [Edit]  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                       â”‚
â”‚  [+ Add New Field]                                    â”‚
â”‚                                                       â”‚
â”‚  â”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆ  â”‚
â”‚                                                       â”‚
â”‚  Add New Field:                                       â”‚
â”‚                                                       â”‚
â”‚  Field Name *                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ aadhaar_number                              â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚  (Lowercase, underscores only)                       â”‚
â”‚                                                       â”‚
â”‚  Field Label *                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ Aadhaar Number                              â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                       â”‚
â”‚  Field Type *                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ [Text â–¼]                                    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚  Options: text, textarea, number, date, select,     â”‚
â”‚           checkbox, radio                            â”‚
â”‚                                                       â”‚
â”‚  [If type = select/radio/checkbox]                   â”‚
â”‚  Options (comma-separated) *                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ Option1, Option2, Option3                   â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                       â”‚
â”‚  Placeholder                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ XXXX-XXXX-XXXX                              â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                       â”‚
â”‚  Help Text                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ 12-digit Aadhaar number                     â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                       â”‚
â”‚  Display Order *                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                        â”‚
â”‚  â”‚    1     â”‚                                         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                        â”‚
â”‚                                                       â”‚
â”‚  â˜‘ Required Field                                    â”‚
â”‚                                                       â”‚
â”‚  [Add Field]                                          â”‚
â”‚                                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                         [Close]                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Update Field API:**
```
POST /api/document-types/update-field
Body:
{
  "id": 1,
  "field_label": "Updated Aadhaar Number",
  "is_required": true,
  "placeholder": "XXXX-XXXX-XXXX"
}

Response:
{
  "success": true,
  "message": "Field updated successfully"
}
```

**Delete Field API:**
```
POST /api/document-types/delete-field
Body:
{
  "id": 1
}

Response:
{
  "success": true,
  "message": "Field deleted successfully"
}
```

---

### 2.5 Clone Document Type

**API Endpoint:**
```
POST /api/document-types/clone
Body:
{
  "id": 1,
  "new_name": "Aadhaar Card Copy"
}

Response:
{
  "success": true,
  "message": "Document type cloned successfully",
  "data": {
    "id": 10,
    "document_type_name": "Aadhaar Card Copy",
    ...
  }
}
```

**Confirmation Dialog:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Clone Document Type?                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                      â”‚
â”‚ This will create a copy of          â”‚
â”‚ "Aadhaar Card" with all its fields. â”‚
â”‚                                      â”‚
â”‚ New Name:                            â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ Aadhaar Card Copy            â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                      â”‚
â”‚ [Cancel]  [Clone]                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Module 3: Employee Document Management (ESS)

### 3.1 My Documents Dashboard

**Route:** `/ess/my-documents`

**API Endpoint:**
```
POST /api/employee-documents/my-documents
Body:
{
  // employee_id automatically from JWT token
}

Response:
{
  "success": true,
  "data": [
    {
      "id": 1,
      "company_id": 1,
      "employee_id": 25,
      "folder_id": 1,
      "document_type_id": 1,
      "file_url": "https://s3.../aadhaar.pdf",
      "file_name": "aadhaar_card.pdf",
      "file_size": 524288,
      "uploaded_at": "2025-01-15T10:30:00.000Z",
      "expiry_date": null,
      "status": "approved",
      "remarks": "Document verified",
      "folder": {
        "folder_name": "Personal Documents",
        "icon": "user"
      },
      "documentType": {
        "document_type_name": "Aadhaar Card",
        "is_mandatory": true
      },
      "fieldValues": [
        {
          "id": 1,
          "field_id": 1,
          "field_value": "123456789012",
          "field": {
            "field_name": "aadhaar_number",
            "field_label": "Aadhaar Number"
          }
        }
      ]
    }
  ]
}
```

**Statistics API:**
```
POST /api/employee-documents/statistics
Body:
{
  // employee_id from JWT
}

Response:
{
  "success": true,
  "data": {
    "total_documents": 12,
    "uploaded": 10,
    "pending_approval": 2,
    "expiring_soon": 1,
    "expired": 0,
    "by_folder": [
      { "folder_name": "Personal Documents", "count": 4 },
      { "folder_name": "Educational Documents", "count": 3 }
    ]
  }
}
```

**UI Layout:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“„ My Documents                       [+ Upload Doc]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Quick Stats:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚   ğŸ“      â”‚ â”‚   âœ“       â”‚ â”‚   â°      â”‚ â”‚   âš        â”‚  â”‚
â”‚ â”‚  Total    â”‚ â”‚ Uploaded  â”‚ â”‚ Pending  â”‚ â”‚ Expiring  â”‚  â”‚
â”‚ â”‚   12      â”‚ â”‚    10     â”‚ â”‚    2     â”‚ â”‚    1      â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Folders:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“‚ Personal Documents                  (4 documents)   â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚   âœ“ Aadhaar Card          Uploaded: Jan 15, 2025      â”‚
â”‚   âœ“ PAN Card              Uploaded: Jan 10, 2025      â”‚
â”‚   â° Passport             Pending Approval             â”‚
â”‚   âœ— Voter ID              Not Uploaded                 â”‚
â”‚                                                         â”‚
â”‚ ğŸ“‚ Educational Documents               (3 documents)   â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚   âœ“ 10th Marksheet        Uploaded: Dec 20, 2024      â”‚
â”‚   âœ“ 12th Marksheet        Uploaded: Dec 20, 2024      â”‚
â”‚   âœ“ Degree Certificate    Uploaded: Dec 22, 2024      â”‚
â”‚                                                         â”‚
â”‚ ğŸ“‚ Professional Documents              (2 documents)   â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚   âš  Experience Letter     Expiring: Feb 15, 2025      â”‚
â”‚   âœ“ Relieving Letter      Uploaded: Jan 5, 2025       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Status Legend:
âœ“ Approved    â° Pending    âš  Expiring Soon    âœ— Not Uploaded
```

---

### 3.2 Upload Document Modal

**Get Folders and Types:**
```
POST /api/document-folders/list
// Returns all folders

POST /api/document-types/list-by-folder
Body: { "folder_id": 1 }
// Returns document types for selected folder
```

**Upload Document API:**
```
POST /api/employee-documents/create
Body:
{
  "folder_id": 1,
  "document_type_id": 1,
  "file_url": "https://s3.../aadhaar.pdf",
  "file_name": "aadhaar_card.pdf",
  "file_size": 524288,
  "expiry_date": "2030-12-31",
  "remarks": "Original document",
  "field_values": [
    {
      "field_id": 1,
      "field_value": "123456789012"
    },
    {
      "field_id": 2,
      "field_value": "2020-01-15"
    }
  ]
}

Response:
{
  "success": true,
  "message": "Document uploaded successfully",
  "data": {
    "id": 1,
    ...
  }
}
```

**Modal Layout:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Upload Document                              [âœ•]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                       â”‚
â”‚  Step 1: Select Document Type                        â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  â”‚
â”‚                                                       â”‚
â”‚  Folder *                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ [Personal Documents â–¼]                      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                       â”‚
â”‚  Document Type *                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ [Aadhaar Card â–¼]                            â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                       â”‚
â”‚  Step 2: Upload File                                  â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  â”‚
â”‚                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                                              â”‚    â”‚
â”‚  â”‚        ğŸ“ Drag & Drop file here             â”‚    â”‚
â”‚  â”‚              or                              â”‚    â”‚
â”‚  â”‚        [Browse Files]                        â”‚    â”‚
â”‚  â”‚                                              â”‚    â”‚
â”‚  â”‚  Accepted: PDF, JPG, PNG | Max: 5MB         â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                       â”‚
â”‚  Selected: aadhaar_card.pdf (512 KB)                 â”‚
â”‚                                                       â”‚
â”‚  Step 3: Document Details                             â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  â”‚
â”‚                                                       â”‚
â”‚  Aadhaar Number *                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ 1234 5678 9012                              â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚  12-digit Aadhaar number                             â”‚
â”‚                                                       â”‚
â”‚  Date of Issue *                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ [15/01/2020 ğŸ“…]                             â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                       â”‚
â”‚  Name on Document                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ John Doe                                     â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                       â”‚
â”‚  Address                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ 123 Main Street, City, State - 123456       â”‚    â”‚
â”‚  â”‚                                              â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                       â”‚
â”‚  [If has_expiry = true]                               â”‚
â”‚  Valid Until                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ [31/12/2030 ğŸ“…]  â˜ No expiry                â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                       â”‚
â”‚  Remarks (Optional)                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ Original document scanned                    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    [Cancel]  [Upload Document]       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**File Upload Flow:**
1. User selects file
2. Upload to storage (S3/local) - Get signed URL first
3. Get `file_url` from storage
4. Submit form with `file_url` and field values

---

### 3.3 Document Preview Modal

**Get Document Details:**
```
POST /api/employee-documents/get-by-id
Body:
{
  "id": 1
}

Response:
{
  "success": true,
  "data": {
    "id": 1,
    "file_url": "https://s3.../aadhaar.pdf",
    "file_name": "aadhaar_card.pdf",
    "uploaded_at": "2025-01-15T10:30:00.000Z",
    "status": "approved",
    "remarks": "Document verified",
    "documentType": {
      "document_type_name": "Aadhaar Card"
    },
    "fieldValues": [
      {
        "field_value": "123456789012",
        "field": {
          "field_label": "Aadhaar Number"
        }
      }
    ],
    "uploadedBy": {
      "email": "john@company.com",
      "employee": {
        "first_name": "John",
        "last_name": "Doe"
      }
    }
  }
}
```

**Modal Layout:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Aadhaar Card                                  [âœ•]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚                     â”‚  â”‚ Details              â”‚   â”‚
â”‚ â”‚                     â”‚  â”‚                      â”‚   â”‚
â”‚ â”‚   PDF/Image Preview â”‚  â”‚ Uploaded by:         â”‚   â”‚
â”‚ â”‚                     â”‚  â”‚ John Doe             â”‚   â”‚
â”‚ â”‚                     â”‚  â”‚                      â”‚   â”‚
â”‚ â”‚                     â”‚  â”‚ Uploaded on:         â”‚   â”‚
â”‚ â”‚                     â”‚  â”‚ 15 Jan 2025, 10:30 AMâ”‚   â”‚
â”‚ â”‚                     â”‚  â”‚                      â”‚   â”‚
â”‚ â”‚                     â”‚  â”‚ Status:              â”‚   â”‚
â”‚ â”‚                     â”‚  â”‚ âœ“ Approved           â”‚   â”‚
â”‚ â”‚                     â”‚  â”‚                      â”‚   â”‚
â”‚ â”‚                     â”‚  â”‚ Aadhaar Number:      â”‚   â”‚
â”‚ â”‚                     â”‚  â”‚ **** **** 9012       â”‚   â”‚
â”‚ â”‚                     â”‚  â”‚                      â”‚   â”‚
â”‚ â”‚                     â”‚  â”‚ Date of Issue:       â”‚   â”‚
â”‚ â”‚                     â”‚  â”‚ 15 Jan 2020          â”‚   â”‚
â”‚ â”‚                     â”‚  â”‚                      â”‚   â”‚
â”‚ â”‚                     â”‚  â”‚ Name on Document:    â”‚   â”‚
â”‚ â”‚                     â”‚  â”‚ John Doe             â”‚   â”‚
â”‚ â”‚                     â”‚  â”‚                      â”‚   â”‚
â”‚ â”‚                     â”‚  â”‚ Remarks:             â”‚   â”‚
â”‚ â”‚                     â”‚  â”‚ Document verified    â”‚   â”‚
â”‚ â”‚                     â”‚  â”‚                      â”‚   â”‚
â”‚ â”‚                     â”‚  â”‚ [ğŸ“¥ Download]        â”‚   â”‚
â”‚ â”‚                     â”‚  â”‚ [âœï¸ Edit]            â”‚   â”‚
â”‚ â”‚                     â”‚  â”‚ [ğŸ—‘ï¸ Delete]          â”‚   â”‚
â”‚ â”‚                     â”‚  â”‚ [ğŸ“œ View History]    â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Download:** Open `file_url` in new tab

**Delete API:**
```
POST /api/employee-documents/delete
Body:
{
  "id": 1
}

Response:
{
  "success": true,
  "message": "Document deleted successfully"
}
```

---

### 3.4 Update Document

**API Endpoint:**
```
POST /api/employee-documents/update
Body:
{
  "id": 1,
  "expiry_date": "2031-12-31",
  "remarks": "Updated remarks",
  "field_values": [
    {
      "field_id": 1,
      "field_value": "123456789012"
    }
  ]
}

Response:
{
  "success": true,
  "message": "Document updated successfully",
  "data": { ... }
}
```

**UI:** Similar to upload modal, pre-filled with existing data. File can be re-uploaded.

---

### 3.5 Document Audit History

**API Endpoint:**
```
POST /api/employee-documents/audit-logs
Body:
{
  "document_id": 1
}

Response:
{
  "success": true,
  "data": [
    {
      "id": 1,
      "action_type": "created",
      "action_at": "2025-01-15T10:30:00.000Z",
      "remarks": "Document uploaded",
      "actionBy": {
        "email": "john@company.com",
        "employee": {
          "first_name": "John",
          "last_name": "Doe"
        }
      }
    },
    {
      "id": 2,
      "action_type": "approved",
      "action_at": "2025-01-16T14:20:00.000Z",
      "remarks": "Document verified and approved",
      "actionBy": {
        "email": "hr@company.com",
        "employee": {
          "first_name": "HR",
          "last_name": "Manager"
        }
      }
    }
  ]
}
```

**Modal Layout:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Document History: Aadhaar Card        [âœ•]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                               â”‚
â”‚ Timeline:                                     â”‚
â”‚                                               â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ âœ“ Approved                           â”‚    â”‚
â”‚ â”‚ By: HR Manager (hr@company.com)      â”‚    â”‚
â”‚ â”‚ Date: 16 Jan 2025, 2:20 PM           â”‚    â”‚
â”‚ â”‚ Remarks: Document verified           â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚        â”‚                                      â”‚
â”‚        â–¼                                      â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ ğŸ“¤ Uploaded                          â”‚    â”‚
â”‚ â”‚ By: John Doe (john@company.com)      â”‚    â”‚
â”‚ â”‚ Date: 15 Jan 2025, 10:30 AM          â”‚    â”‚
â”‚ â”‚ Remarks: Document uploaded           â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                     [Close]                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Module 4: HR/Manager Document Review

### 4.1 Team Documents View

**Route:** `/manager/team-documents`

**API Endpoint:**
```
POST /api/employee-documents/team-documents
Body:
{
  "folder_id": 1,              // Optional filter
  "employee_id": 25,           // Optional filter
  "status": "uploaded"         // Optional: uploaded, approved, rejected
}

Response:
{
  "success": true,
  "data": [
    {
      "id": 1,
      "employee_id": 25,
      "folder_id": 1,
      "document_type_id": 1,
      "file_url": "https://s3.../aadhaar.pdf",
      "status": "uploaded",
      "uploaded_at": "2025-01-15T10:30:00.000Z",
      "employee": {
        "employee_code": "EMP001",
        "first_name": "John",
        "last_name": "Doe",
        "email": "john@company.com"
      },
      "folder": {
        "folder_name": "Personal Documents"
      },
      "documentType": {
        "document_type_name": "Aadhaar Card"
      }
    }
  ]
}
```

**UI Layout:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Team Documents                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Filters:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Employee: [All â–¼]  Folder: [All â–¼]  Status: [All â–¼]   â”‚
â”‚ ğŸ” [Search by employee or document type...]            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Documents Table:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Employee    Doc Type       Folder      Uploaded  Statusâ”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ John Doe    Aadhaar Card   Personal    Jan 15    â°     â”‚ [View]
â”‚ Jane Smith  PAN Card       Personal    Jan 14    âœ“     â”‚ [View]
â”‚ Bob Wilson  Passport       Personal    Jan 13    â°     â”‚ [View]
â”‚ Alice Brown 10th Marks     Education   Jan 12    âœ“     â”‚ [View]
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Status Legend:
âœ“ Approved    â° Pending Approval    âœ— Rejected
```

---

### 4.2 Approve/Reject Document

**Approve API:**
```
POST /api/employee-documents/approve
Body:
{
  "id": 1,
  "remarks": "Document verified and approved"
}

Response:
{
  "success": true,
  "message": "Document approved successfully"
}
```

**Reject API:**
```
POST /api/employee-documents/reject
Body:
{
  "id": 1,
  "remarks": "Document is not clear, please re-upload"
}

Response:
{
  "success": true,
  "message": "Document rejected successfully"
}
```

**Confirmation Dialog (Approve):**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Approve Document?                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                      â”‚
â”‚ Employee: John Doe (EMP001)          â”‚
â”‚ Document: Aadhaar Card               â”‚
â”‚                                      â”‚
â”‚ Remarks (Optional):                  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ Document verified            â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                      â”‚
â”‚ [Cancel]  [âœ“ Approve]                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Confirmation Dialog (Reject):**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Reject Document?                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                      â”‚
â”‚ Employee: John Doe (EMP001)          â”‚
â”‚ Document: Aadhaar Card               â”‚
â”‚                                      â”‚
â”‚ Rejection Reason *:                  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ Document is not clear        â”‚    â”‚
â”‚ â”‚ Please re-upload             â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                      â”‚
â”‚ [Cancel]  [âœ— Reject]                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 4.3 Mark Document as N/A

**API Endpoint:**
```
POST /api/employee-documents/mark-na
Body:
{
  "document_type_id": 1,
  "remarks": "Not applicable for this employee"
}

Response:
{
  "success": true,
  "message": "Document marked as N/A successfully"
}
```

**When to use:** If document type has `allow_na: true` and employee doesn't have this document.

---

## Authentication & Headers

**All API requests require:**

```javascript
headers: {
  'Authorization': `Bearer ${access_token}`,
  'Content-Type': 'application/json'
}
```

**Getting token from login:**
```
POST /api/auth/login
Body:
{
  "email": "user@company.com",
  "password": "password123"
}

Response:
{
  "success": true,
  "data": {
    "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
    "user": {
      "id": 1,
      "company_id": 1,
      "employee_id": 25,
      "role": "employee",
      ...
    }
  }
}
```

**Token contains:**
- `id`: User ID
- `company_id`: Company ID (auto-injected in APIs)
- `employee_id`: Employee ID
- `role`: User role for permissions

---

## File Upload with Signed URLs

**Get Signed Upload URL:**
```
POST /api/storage/get-signed-upload-url
Body:
{
  "file_name": "aadhaar_card.pdf",
  "file_type": "application/pdf",
  "file_size": 524288
}

Response:
{
  "success": true,
  "data": {
    "upload_url": "https://s3.../presigned-url",
    "file_url": "https://s3.../aadhaar_card.pdf"
  }
}
```

**Upload Flow:**
1. Get signed URL from backend
2. Upload file directly to S3 using `upload_url`
3. Use `file_url` in document creation API

**JavaScript Example:**
```javascript
// Step 1: Get signed URL
const { data } = await api.post('/storage/get-signed-upload-url', {
  file_name: file.name,
  file_type: file.type,
  file_size: file.size
});

const { upload_url, file_url } = data.data;

// Step 2: Upload to S3
await fetch(upload_url, {
  method: 'PUT',
  body: file,
  headers: { 'Content-Type': file.type }
});

// Step 3: Create document with file_url
await api.post('/employee-documents/create', {
  file_url,
  file_name: file.name,
  file_size: file.size,
  ...other fields
});
```

---

## Error Handling

### Error Response Format:
```json
{
  "success": false,
  "error": "Error description"
}
```

### Common HTTP Status Codes:
- `200` - Success
- `400` - Bad Request (validation errors)
- `401` - Unauthorized (invalid/missing token)
- `403` - Forbidden (no permission)
- `404` - Not Found
- `500` - Internal Server Error

### Error Handling in UI:

```javascript
try {
  const response = await api.post('/employee-documents/create', data);

  if (response.data.success) {
    toast.success(response.data.message);
    // Update UI
  }
} catch (error) {
  if (error.response) {
    const message = error.response.data.error || 'Something went wrong';
    toast.error(message);

    if (error.response.status === 401) {
      // Redirect to login
      router.push('/login');
    } else if (error.response.status === 403) {
      toast.error('You do not have permission');
    }
  } else if (error.request) {
    toast.error('Network error. Please check your connection.');
  } else {
    toast.error('An unexpected error occurred');
  }
}
```

---

## UI Components & Styling

### Color Scheme:

```css
/* Status Colors */
--uploaded: #FF9800;           /* Orange */
--approved: #4CAF50;           /* Green */
--rejected: #F44336;           /* Red */
--expired: #9E9E9E;            /* Gray */
--na: #2196F3;                 /* Blue */

/* Folder Colors */
--personal: #E3F2FD;           /* Light Blue */
--educational: #F3E5F5;        /* Light Purple */
--professional: #E8F5E9;       /* Light Green */
--financial: #FFF3E0;          /* Light Orange */
--medical: #FCE4EC;            /* Light Pink */
--employment: #F1F8E9;         /* Light Lime */

/* UI Colors */
--primary: #1976D2;            /* Blue */
--secondary: #FFA726;          /* Orange */
--success: #4CAF50;            /* Green */
--warning: #FF9800;            /* Amber */
--error: #F44336;              /* Red */
```

### Icons:
- Folder Icons: ğŸ‘¤ ğŸ“ ğŸ’¼ ğŸ’° ğŸ¥ ğŸ“‹
- Status Icons: âœ“ â° âœ— âš 
- Action Icons: ğŸ“¥ âœï¸ ğŸ—‘ï¸ ğŸ“œ âš™

### Toast Notifications:

```javascript
// Success
toast.success("Document uploaded successfully");

// Error
toast.error("Failed to upload document");

// Warning
toast.warning("Document expiring in 30 days");

// Info
toast.info("Loading documents...");
```

### Loading States:

```html
<!-- Button Loading -->
<button disabled>
  <span class="spinner"></span>
  Uploading...
</button>

<!-- Page Loading -->
<div class="loading-overlay">
  <div class="spinner-large"></div>
  <p>Loading documents...</p>
</div>

<!-- Skeleton Loader -->
<div class="skeleton-card">
  <div class="skeleton-title"></div>
  <div class="skeleton-text"></div>
</div>
```

---

## Permission-Based UI Rendering

### Check Permissions:

```javascript
// Get current user role from JWT
const userRole = user.role; // employee, reporting_manager, hr, admin

// Check folder permission
const canUpload = folder.permissions.find(
  p => p.role_name === userRole
)?.can_upload;

const canApprove = folder.permissions.find(
  p => p.role_name === userRole
)?.can_approve;

// Conditionally render UI
{canUpload && <button>Upload Document</button>}
{canApprove && <button>Approve</button>}
```

### Permission Matrix:

| Role               | View | Upload | Edit | Delete | Approve |
|--------------------|------|--------|------|--------|---------|
| employee           | Own  | Own    | Own  | Own    | No      |
| reporting_manager  | Team | No     | No   | No     | Yes     |
| rm_of_rm          | Team | No     | No   | No     | Yes     |
| department_head    | Dept | No     | No   | No     | Yes     |
| hr                 | All  | All    | All  | No     | Yes     |
| admin              | All  | All    | All  | All    | Yes     |

---

## Implementation Checklist

### Phase 1: Foundation
- [ ] Setup API service layer with axios
- [ ] Configure authentication interceptors
- [ ] Implement error handling
- [ ] Setup routing
- [ ] Create base layout components

### Phase 2: Admin - Folder Management
- [ ] Folder list page
- [ ] Create folder modal
- [ ] Edit folder functionality
- [ ] Set folder permissions modal

### Phase 3: Admin - Document Type Management
- [ ] Document type list page
- [ ] Create document type modal
- [ ] Edit document type
- [ ] Field configuration modal
- [ ] Add/Edit/Delete fields
- [ ] Clone document type

### Phase 4: ESS - My Documents
- [ ] My documents dashboard with stats
- [ ] Upload document modal with dynamic fields
- [ ] Document preview modal
- [ ] Update document
- [ ] Delete document with confirmation
- [ ] Document audit history

### Phase 5: Manager/HR - Team Documents
- [ ] Team documents list with filters
- [ ] Approve/Reject documents
- [ ] Mark document as N/A
- [ ] View employee documents

### Phase 6: File Upload
- [ ] File upload with drag & drop
- [ ] Signed URL integration
- [ ] File validation (type, size)
- [ ] Progress indicator

### Phase 7: Polish
- [ ] Loading states
- [ ] Error handling
- [ ] Toast notifications
- [ ] Form validations
- [ ] Responsive design
- [ ] Permission-based rendering
- [ ] Testing

---

## Data Models (TypeScript)

```typescript
interface Folder {
  id: number;
  company_id: number;
  folder_code: string;
  folder_name: string;
  description: string | null;
  icon: string | null;
  display_order: number;
  is_active: boolean;
  permissions?: FolderPermission[];
  document_types_count?: number;
}

interface FolderPermission {
  id: number;
  folder_id: number;
  role_name: 'employee' | 'reporting_manager' | 'rm_of_rm' |
              'department_head' | 'hr' | 'admin';
  can_view: boolean;
  can_upload: boolean;
  can_edit: boolean;
  can_delete: boolean;
  can_approve: boolean;
}

interface DocumentType {
  id: number;
  company_id: number;
  folder_id: number;
  document_type_code: string;
  document_type_name: string;
  description: string | null;
  is_mandatory: boolean;
  allow_multiple: boolean;
  allow_na: boolean;
  has_expiry: boolean;
  reminder_days: number | null;
  display_order: number;
  is_active: boolean;
  fields?: DocumentTypeField[];
}

interface DocumentTypeField {
  id: number;
  document_type_id: number;
  field_name: string;
  field_label: string;
  field_type: 'text' | 'textarea' | 'number' | 'date' |
               'select' | 'checkbox' | 'radio';
  field_options: string | null;
  is_required: boolean;
  validation_rules: string | null;
  display_order: number;
  placeholder: string | null;
  help_text: string | null;
}

interface EmployeeDocument {
  id: number;
  company_id: number;
  employee_id: number;
  folder_id: number;
  document_type_id: number;
  file_url: string;
  file_name: string;
  file_size: number;
  uploaded_at: string;
  expiry_date: string | null;
  status: 'uploaded' | 'approved' | 'rejected' | 'expired' | 'na';
  remarks: string | null;
  folder?: Folder;
  documentType?: DocumentType;
  fieldValues?: DocumentFieldValue[];
  employee?: Employee;
}

interface DocumentFieldValue {
  id: number;
  employee_document_id: number;
  field_id: number;
  field_value: string;
  field?: DocumentTypeField;
}

interface DocumentAuditLog {
  id: number;
  employee_document_id: number;
  action_type: 'created' | 'updated' | 'deleted' |
               'approved' | 'rejected' | 'downloaded' | 'viewed';
  action_by: number;
  action_at: string;
  remarks: string | null;
  actionBy?: User;
}
```

---

## Testing with Postman

All APIs can be tested using the Postman collection.

Make sure to:
1. Set environment variable `base_url` to `http://localhost:3000/api`
2. After login, `access_token` will be automatically set
3. Test all endpoints before starting UI development

---

## Support & Questions

If you encounter any issues with the APIs:
1. Check backend logs for detailed error messages
2. Verify JWT token is valid and not expired
3. Ensure `company_id` is being extracted correctly from token
4. Check folder permissions for the user role

---

**Good luck with the implementation! ğŸš€**
